# ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ –¥–≤–æ–π–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –∫ Yandex Tracker

## üî¥ –ü—Ä–æ–±–ª–µ–º–∞

–ü—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∑–∞–¥–∞—á –≤ —á–∞—Ç–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä: "–ü–æ–∫–∞–∂–∏ –æ—Ç–∫—Ä—ã—Ç—ã–µ –∑–∞–¥–∞—á–∏") –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª–æ —Å–ª–µ–¥—É—é—â–µ–µ:

1. **–ü–µ—Ä–≤—ã–π –æ—Ç–≤–µ—Ç –æ—Ç Claude**: "–£ –º–µ–Ω—è –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ Yandex Tracker"
2. **–í—Ç–æ—Ä–æ–π –æ—Ç–≤–µ—Ç (–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π)**: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞–¥–∞—á –∏–∑ Yandex Tracker

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–ª –¥–≤–∞ –æ—Ç–≤–µ—Ç–∞ –≤–º–µ—Å—Ç–æ –æ–¥–Ω–æ–≥–æ!**

---

## üîç –ü—Ä–∏—á–∏–Ω–∞

–ü—Ä–æ–±–ª–µ–º–∞ –±—ã–ª–∞ –≤ –ª–æ–≥–∏–∫–µ —Ñ—É–Ω–∫—Ü–∏–∏ `sendMessage()` –≤ —Ñ–∞–π–ª–µ **ChatViewModel.swift** (—Å—Ç—Ä–æ–∫–∏ 68-90).

### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª–æ:

```swift
// –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ –∫–æ–º–∞–Ω–¥–∞ –ª–∏ —ç—Ç–æ –¥–ª—è Yandex Tracker
if isYandexTrackerCommand(messageToSend) {
    Task {
        if let trackerResult = await handleYandexTrackerCommand(messageToSend) {
            await MainActor.run {
                let botMessage = Message(content: trackerResult, isFromUser: false)
                messages.append(botMessage)
                isLoading = false
            }
            return  // ‚Üê –≠—Ç–æ—Ç return –±—ã–ª –≤–Ω—É—Ç—Ä–∏ Task, –Ω–µ –≤ sendMessage!
        }
    }
    // –ï—Å–ª–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ —É–¥–∞–ª–∞—Å—å, –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º –æ–±—ã—á–Ω—ã–º –æ–±—Ä–∞–∑–æ–º
}

// –í—ã–±–∏—Ä–∞–µ–º –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞
switch settings.selectedProvider {
case .claude:
    sendToClaude(message: messageToSend)  // ‚Üê –ö–æ–¥ –ø—Ä–æ–¥–æ–ª–∂–∞–ª –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è!
case .huggingface:
    sendToHuggingFace(message: messageToSend)
}
```

### –ü–æ—á–µ–º—É —ç—Ç–æ –ø—Ä–∏–≤–æ–¥–∏–ª–æ –∫ –¥–≤—É–º –æ—Ç–≤–µ—Ç–∞–º:

1. **–ó–∞–ø—É—Å–∫–∞–ª—Å—è Task** –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–º–∞–Ω–¥—ã Yandex Tracker (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ)
2. **–§—É–Ω–∫—Ü–∏—è sendMessage –ø—Ä–æ–¥–æ–ª–∂–∞–ª–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ** (–Ω–µ –¥–æ–∂–∏–¥–∞–ª–∞—Å—å Task)
3. **–°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª—è–ª–æ—Å—å Claude** (—á–µ—Ä–µ–∑ `sendToClaude`)
4. **Claude –Ω–µ –∑–Ω–∞–ª –æ Tracker**, –ø–æ—ç—Ç–æ–º—É –æ—Ç–≤–µ—á–∞–ª: "–£ –º–µ–Ω—è –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞"
5. **Task –∑–∞–≤–µ—Ä—à–∞–ª—Å—è** –∏ –¥–æ–±–∞–≤–ª—è–ª –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –æ—Ç Tracker

–†–µ–∑—É–ª—å—Ç–∞—Ç: **–¥–≤–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ —á–∞—Ç–µ!**

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ ChatViewModel.swift (—Å—Ç—Ä–æ–∫–∏ 68-81)

**–ë—ã–ª–æ:**
```swift
if isYandexTrackerCommand(messageToSend) {
    Task {
        if let trackerResult = await handleYandexTrackerCommand(messageToSend) {
            await MainActor.run {
                let botMessage = Message(content: trackerResult, isFromUser: false)
                messages.append(botMessage)
                isLoading = false
            }
            return  // ‚Üê return —Ç–æ–ª—å–∫–æ –∏–∑ Task, –Ω–µ –∏–∑ sendMessage!
        }
    }
    // –ö–æ–¥ –ø—Ä–æ–¥–æ–ª–∂–∞–ª –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è
}

// –°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª—è–ª–æ—Å—å Claude
switch settings.selectedProvider {
    ...
}
```

**–°—Ç–∞–ª–æ:**
```swift
if isYandexTrackerCommand(messageToSend) {
    Task {
        let trackerResult = await handleYandexTrackerCommand(messageToSend)

        await MainActor.run {
            let botMessage = Message(content: trackerResult, isFromUser: false)
            messages.append(botMessage)
            isLoading = false
        }
    }
    // –í–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è —Å—Ä–∞–∑—É, –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ Claude
    return  // ‚Üê return –∏–∑ sendMessage!
}

// –≠—Ç–æ—Ç –∫–æ–¥ —Ç–µ–ø–µ—Ä—å –ù–ï –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–ª—è Tracker –∫–æ–º–∞–Ω–¥
switch settings.selectedProvider {
    ...
}
```

### –ö–ª—é—á–µ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:

1. **`return` –ø–µ—Ä–µ–Ω–µ—Å—ë–Ω –Ω–∞ —É—Ä–æ–≤–µ–Ω—å —Ñ—É–Ω–∫—Ü–∏–∏ `sendMessage`** (—Å—Ç—Ä–æ–∫–∞ 80)
   - –¢–µ–ø–µ—Ä—å —Ñ—É–Ω–∫—Ü–∏—è –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ Task
   - –ö–æ–¥ –¥–∞–ª—å—à–µ –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è

2. **–£–±—Ä–∞–Ω–æ `if let` (Optional unwrapping)**
   - `handleYandexTrackerCommand` —Ç–µ–ø–µ—Ä—å –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `String` (–Ω–µ `String?`)
   - –í—Å–µ–≥–¥–∞ –µ—Å—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç (–ª–∏–±–æ –¥–∞–Ω–Ω—ã–µ, –ª–∏–±–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ)

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ ChatViewModel+YandexTracker.swift (—Å—Ç—Ä–æ–∫–∞ 32)

**–ë—ã–ª–æ:**
```swift
func handleYandexTrackerCommand(_ message: String) async -> String? {
    // ...
}
```

**–°—Ç–∞–ª–æ:**
```swift
func handleYandexTrackerCommand(_ message: String) async -> String {
    // –í—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç (–ª–∏–±–æ –¥–∞–Ω–Ω—ã–µ, –ª–∏–±–æ –æ—à–∏–±–∫—É)
}
```

---

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

**–ó–∞–ø—Ä–æ—Å:** "–ü–æ–∫–∞–∂–∏ –æ—Ç–∫—Ä—ã—Ç—ã–µ –∑–∞–¥–∞—á–∏"

**–û—Ç–≤–µ—Ç—ã:**
1. ü§ñ Claude: "–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, —É –º–µ–Ω—è –Ω–µ—Ç –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ Yandex Tracker..."
2. üìä Tracker: "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞–¥–∞—á: –í—Å–µ–≥–æ: 42, –û—Ç–∫—Ä—ã—Ç—ã—Ö: 10..."

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

**–ó–∞–ø—Ä–æ—Å:** "–ü–æ–∫–∞–∂–∏ –æ—Ç–∫—Ä—ã—Ç—ã–µ –∑–∞–¥–∞—á–∏"

**–û—Ç–≤–µ—Ç:**
üìä Tracker: "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞–¥–∞—á: –í—Å–µ–≥–æ: 42, –û—Ç–∫—Ä—ã—Ç—ã—Ö: 10..."

**–¢–æ–ª—å–∫–æ –æ–¥–∏–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç!** ‚úÖ

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:

1. **–ó–∞–ø—Ä–æ—Å –∫ Yandex Tracker**: "–°–∫–æ–ª—å–∫–æ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –∑–∞–¥–∞—á?"
   - ‚úÖ –î–æ–ª–∂–µ–Ω –±—ã—Ç—å **–æ–¥–∏–Ω** –æ—Ç–≤–µ—Ç –æ—Ç Tracker
   - ‚ùå **–ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å** –æ—Ç–≤–µ—Ç–∞ –æ—Ç Claude

2. **–û–±—ã—á–Ω—ã–π –∑–∞–ø—Ä–æ—Å –∫ Claude**: "–ü—Ä–∏–≤–µ—Ç, –∫–∞–∫ –¥–µ–ª–∞?"
   - ‚úÖ –î–æ–ª–∂–µ–Ω –±—ã—Ç—å **–æ–¥–∏–Ω** –æ—Ç–≤–µ—Ç –æ—Ç Claude
   - ‚ùå **–ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å** –ø–æ–ø—ã—Ç–∫–∏ –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ Tracker

3. **–ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã**: –ù–∞–∂–∞—Ç—å "üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞"
   - ‚úÖ –î–æ–ª–∂–µ–Ω –±—ã—Ç—å **–æ–¥–∏–Ω** –æ—Ç–≤–µ—Ç –æ—Ç Tracker

4. **Tracker –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω**: –ó–∞–ø—Ä–æ—Å–∏—Ç—å –∑–∞–¥–∞—á–∏ –±–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
   - ‚úÖ –î–æ–ª–∂–Ω–æ –±—ã—Ç—å **–æ–¥–Ω–æ** —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤:

–°–ª–µ–¥—É—é—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã –¥–æ–ª–∂–Ω—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å—Å—è **—Ç–æ–ª—å–∫–æ** Tracker:
- "–ü–æ–∫–∞–∂–∏ –∑–∞–¥–∞—á–∏"
- "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ Yandex Tracker"
- "–°–∫–æ–ª—å–∫–æ –æ—Ç–∫—Ä—ã—Ç—ã—Ö —Ç–∞—Å–∫–æ–≤?"
- "Issues –≤ —Ç—Ä–µ–∫–µ—Ä–µ"

–°–ª–µ–¥—É—é—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã –¥–æ–ª–∂–Ω—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å—Å—è **—Ç–æ–ª—å–∫–æ** Claude:
- "–ü—Ä–∏–≤–µ—Ç"
- "–û–±—ä—è—Å–Ω–∏ React"
- "–ù–∞–ø–∏—à–∏ —Ñ—É–Ω–∫—Ü–∏—é"
- "–ö–∞–∫ –¥–µ–ª–∞?"

---

## üìã –ß—Ç–æ –±—ã–ª–æ –∏–∑–º–µ–Ω–µ–Ω–æ

### –§–∞–π–ª—ã:

1. **ChatViewModel.swift** (—Å—Ç—Ä–æ–∫–∏ 68-81)
   - –î–æ–±–∞–≤–ª–µ–Ω `return` –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ Task –¥–ª—è Tracker –∫–æ–º–∞–Ω–¥
   - –£–±—Ä–∞–Ω–æ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ Tracker –∫–æ–º–∞–Ω–¥—ã

2. **ChatViewModel+YandexTracker.swift** (—Å—Ç—Ä–æ–∫–∞ 32)
   - –ò–∑–º–µ–Ω—ë–Ω —Ç–∏–ø –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è —Å `String?` –Ω–∞ `String`
   - –§—É–Ω–∫—Ü–∏—è –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç

### –õ–æ–≥–∏–∫–∞:

**–î–æ:** Tracker –∫–æ–º–∞–Ω–¥–∞ ‚Üí Task –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è ‚Üí sendMessage –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è ‚Üí Claude –ø–æ–ª—É—á–∞–µ—Ç –∑–∞–ø—Ä–æ—Å ‚Üí **–¥–≤–∞ –æ—Ç–≤–µ—Ç–∞**

**–ü–æ—Å–ª–µ:** Tracker –∫–æ–º–∞–Ω–¥–∞ ‚Üí Task –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è ‚Üí sendMessage –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è ‚Üí **–æ–¥–∏–Ω –æ—Ç–≤–µ—Ç**

---

## üéØ –ò—Ç–æ–≥–æ

### –ü—Ä–æ–±–ª–µ–º–∞:
- –ü—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –∫ Yandex Tracker –ø–æ—è–≤–ª—è–ª–æ—Å—å **–¥–≤–∞** –æ—Ç–≤–µ—Ç–∞ (–æ—Ç Claude –∏ –æ—Ç Tracker)

### –ü—Ä–∏—á–∏–Ω–∞:
- –§—É–Ω–∫—Ü–∏—è `sendMessage` –ø—Ä–æ–¥–æ–ª–∂–∞–ª–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ Task
- –°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª—è–ª–æ—Å—å –∏ Claude, —Ö–æ—Ç—è –¥–æ–ª–∂–Ω–æ –±—ã–ª–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ Tracker

### –†–µ—à–µ–Ω–∏–µ:
- –î–æ–±–∞–≤–ª–µ–Ω `return` —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ Task –¥–ª—è Tracker –∫–æ–º–∞–Ω–¥
- –£–±—Ä–∞–Ω–æ Optional unwrapping (`String?` ‚Üí `String`)

### –†–µ–∑—É–ª—å—Ç–∞—Ç:
- ‚úÖ Tracker –∫–æ–º–∞–Ω–¥—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ Tracker (–æ–¥–∏–Ω –æ—Ç–≤–µ—Ç)
- ‚úÖ –û–±—ã—á–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ Claude (–æ–¥–∏–Ω –æ—Ç–≤–µ—Ç)
- ‚úÖ –ù–∏–∫–∞–∫–∏—Ö –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö—Å—è –æ—Ç–≤–µ—Ç–æ–≤!

**–ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞! üéâ**
