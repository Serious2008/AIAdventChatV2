# Как получить OAuth Token для Yandex Tracker

## 🎯 Проблема
У вас есть только **ID приложения** (Client ID), но нужен **OAuth Token**.

---

## ✅ Решение: Получить токен через браузер

### Способ 1: Через OAuth Debugger (САМЫЙ ПРОСТОЙ)

1. **Откройте страницу вашего приложения** на https://oauth.yandex.ru/

2. **Найдите раздел "Отладка"** или "Получить токен для отладки"

3. **Нажмите кнопку "Получить токен"** или "Debug token"

4. **Выберите права (scopes):**
   - ✅ `tracker:read` - обязательно
   - ✅ `tracker:write` - рекомендуется

5. **Нажмите "Разрешить" / "Allow"**

6. **Скопируйте токен** - он появится на экране:
   ```
   y0_AgAAAAABCDEF...xyz123
   ```

---

### Способ 2: Через прямую ссылку

Если в интерфейсе нет кнопки "Получить токен", используйте этот метод:

#### Шаг 1: Замените CLIENT_ID на ваш ID приложения

```
https://oauth.yandex.ru/authorize?response_type=token&client_id=ВАШ_CLIENT_ID&scope=tracker:read%20tracker:write
```

#### Шаг 2: Откройте эту ссылку в браузере

Пример:
```
https://oauth.yandex.ru/authorize?response_type=token&client_id=abc123def456&scope=tracker:read%20tracker:write
```

#### Шаг 3: Войдите и разрешите доступ

После этого вас перенаправит на URL вида:
```
https://oauth.yandex.ru/verification_code#access_token=y0_AgAAAAABCDEF...xyz123&token_type=bearer&expires_in=31536000
```

#### Шаг 4: Скопируйте токен

Токен находится после `access_token=` и до `&`:
```
y0_AgAAAAABCDEF...xyz123
```

---

### Способ 3: Создание нового приложения с токеном

Если предыдущие способы не работают:

1. **Удалите старое приложение** (если нужно)

2. **Создайте новое приложение:**
   - Перейдите на https://oauth.yandex.ru/
   - Нажмите **"Создать новое приложение"**
   - Название: `Tracker App`
   - Платформа: **"Веб-сервисы"**

3. **Настройте права:**
   - ✅ tracker:read
   - ✅ tracker:write

4. **Важно!** При создании выберите опцию:
   - **"Получить токен для отладки"** или
   - **"Debug token"**

5. **Скопируйте токен** сразу после создания

---

## 🛠️ Генератор ссылки для получения токена

Вставьте сюда ваш **Client ID** (Идентификатор приложения):

```
Ваш Client ID: ___________________________

Готовая ссылка для получения токена:
https://oauth.yandex.ru/authorize?response_type=token&client_id=ВАШ_ID&scope=tracker:read%20tracker:write
```

### Пример с реальным ID:

Если ваш Client ID = `abc123def456`, то ссылка:
```
https://oauth.yandex.ru/authorize?response_type=token&client_id=abc123def456&scope=tracker:read%20tracker:write
```

---

## 📝 Пошаговая инструкция с картинками

### 1. Откройте https://oauth.yandex.ru/

![Step 1]
```
┌─────────────────────────────────────┐
│  OAuth Яндекса                      │
├─────────────────────────────────────┤
│                                     │
│  Мои приложения                     │
│                                     │
│  ┌─────────────────────────┐       │
│  │ Tracker App             │       │
│  │ ID: abc123def456        │       │
│  │ [Настроить] [Удалить]   │       │
│  └─────────────────────────┘       │
│                                     │
│  [+ Создать приложение]             │
│                                     │
└─────────────────────────────────────┘
```

### 2. Нажмите на ваше приложение

```
┌─────────────────────────────────────┐
│  Tracker App                        │
├─────────────────────────────────────┤
│                                     │
│  Идентификатор: abc123def456        │
│  Callback URL: не задан             │
│                                     │
│  Права доступа:                     │
│  ☑ tracker:read                     │
│  ☑ tracker:write                    │
│                                     │
│  Отладка:                           │
│  [Получить токен для отладки] ←────┐│
│                                     ││
└─────────────────────────────────────┘│
                                       │
                       Нажмите сюда! ──┘
```

### 3. Разрешите доступ

```
┌─────────────────────────────────────┐
│  Приложение Tracker App запрашивает │
│  следующие разрешения:              │
│                                     │
│  ✓ Чтение данных Tracker            │
│  ✓ Запись данных Tracker            │
│                                     │
│  [Разрешить]  [Отменить]            │
└─────────────────────────────────────┘
```

### 4. Скопируйте токен

```
┌─────────────────────────────────────┐
│  Токен успешно создан               │
│                                     │
│  Access Token:                      │
│  ┌─────────────────────────────┐   │
│  │ y0_AgAAAAABCDEF...xyz123    │   │
│  └─────────────────────────────┘   │
│                                     │
│  [Скопировать]                      │
│                                     │
│  Сохраните токен в безопасном месте │
└─────────────────────────────────────┘
```

---

## ⚠️ Важно!

### Токен должен:
- ✅ Начинаться с `y0_AgA`
- ✅ Быть длинным (40+ символов)
- ✅ Состоять из букв, цифр и символов

### Токен НЕ должен:
- ❌ Быть коротким (это Client ID, не токен!)
- ❌ Содержать пробелы
- ❌ Начинаться с цифр

### Примеры:

**✅ ПРАВИЛЬНЫЙ токен:**
```
y0_AgAAAAABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890abcdefghijk
```

**❌ НЕПРАВИЛЬНО (это Client ID):**
```
abc123def456
```

**❌ НЕПРАВИЛЬНО (это Client Secret):**
```
1234567890abcdefghijklmnopqrstuv
```

---

## 🔒 Безопасность

### Где НЕ нужно вводить Client ID:
- ❌ В настройках приложения (там нужен OAuth Token)
- ❌ В поле "OAuth Token" (это НЕ токен!)

### Что делать с токеном:
- ✅ Скопируйте токен сразу после создания
- ✅ Сохраните в безопасное место
- ✅ Не публикуйте его в открытых источниках
- ✅ Можно пересоздать при необходимости

---

## 🆘 Если не получается

### Проблема: "Не вижу кнопку 'Получить токен'"

**Решение 1:** Используйте прямую ссылку (Способ 2 выше)

**Решение 2:** Создайте новое приложение и сразу выберите "Получить токен для отладки"

### Проблема: "После авторизации ничего не происходит"

**Причина:** Токен находится в URL после `#access_token=`

**Решение:** Посмотрите в адресную строку браузера:
```
https://oauth.yandex.ru/...#access_token=y0_AgA...&token_type=bearer
                                        ^^^^^^^^
                                    Вот ваш токен!
```

### Проблема: "Токен не работает в приложении"

**Проверьте:**
1. Скопировали полностью (с `y0_AgA` до конца)
2. Нет лишних пробелов в начале/конце
3. Выбрали права `tracker:read` и `tracker:write`

---

## ✅ Проверка токена

### После получения токена:

1. Вставьте его в настройки приложения
2. Нажмите **"Проверить подключение"**
3. Если видите ✅ "Подключение успешно!" - всё работает!

---

## 📞 Альтернатива: Yandex API Console

Если OAuth интерфейс не работает, попробуйте:

1. Перейдите на https://console.cloud.yandex.ru/
2. Выберите **"API и сервисы"**
3. Создайте **"Сервисный аккаунт"**
4. Получите **"API ключ"** для Tracker

**Внимание:** Это другой метод авторизации, требует изменений в коде.

---

## 🎓 Резюме

### Что вам нужно:
1. **Client ID** (Идентификатор приложения) - у вас есть ✅
2. **OAuth Token** (начинается с `y0_AgA...`) - нужно получить! ⚠️

### Как получить токен:
1. Откройте https://oauth.yandex.ru/
2. Выберите ваше приложение
3. Нажмите **"Получить токен для отладки"**
4. Разрешите доступ
5. Скопируйте токен (начинается с `y0_AgA...`)
6. Вставьте в настройки приложения
7. Проверьте подключение!

**Готово! 🎉**
