# –î–ï–ú–û: –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç /analyze-project

## –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞:

```
AIAdventChatV2/
‚îú‚îÄ‚îÄ üì± App Entry Point
‚îÇ   ‚îî‚îÄ‚îÄ AIAdventChatV2App.swift
‚îÇ
‚îú‚îÄ‚îÄ üìä Models (3 —Ñ–∞–π–ª–∞)
‚îÇ   ‚îú‚îÄ‚îÄ Message.swift
‚îÇ   ‚îú‚îÄ‚îÄ Settings.swift
‚îÇ   ‚îú‚îÄ‚îÄ ClaudeTool.swift
‚îÇ   ‚îî‚îÄ‚îÄ PeriodicTask.swift
‚îÇ
‚îú‚îÄ‚îÄ üé® Views (13 —Ñ–∞–π–ª–æ–≤)
‚îÇ   ‚îú‚îÄ‚îÄ ContentView.swift
‚îÇ   ‚îú‚îÄ‚îÄ ChatView.swift
‚îÇ   ‚îú‚îÄ‚îÄ SettingsView.swift
‚îÇ   ‚îú‚îÄ‚îÄ MessageBubble.swift
‚îÇ   ‚îú‚îÄ‚îÄ TokenIndicatorView.swift
‚îÇ   ‚îú‚îÄ‚îÄ GeneratedDocumentView.swift
‚îÇ   ‚îú‚îÄ‚îÄ MCPView.swift
‚îÇ   ‚îú‚îÄ‚îÄ MCPTestView.swift
‚îÇ   ‚îú‚îÄ‚îÄ YandexTrackerTestView.swift
‚îÇ   ‚îî‚îÄ‚îÄ MultiAgent/
‚îÇ       ‚îú‚îÄ‚îÄ MultiAgentView.swift
‚îÇ       ‚îú‚îÄ‚îÄ AgentResultCard.swift
‚îÇ       ‚îú‚îÄ‚îÄ ImplementationCard.swift
‚îÇ       ‚îú‚îÄ‚îÄ PlanCard.swift
‚îÇ       ‚îú‚îÄ‚îÄ ResultView.swift
‚îÇ       ‚îî‚îÄ‚îÄ Helper/
‚îÇ           ‚îú‚îÄ‚îÄ MetricBadge.swift
‚îÇ           ‚îî‚îÄ‚îÄ SectionView.swift
‚îÇ
‚îú‚îÄ‚îÄ üéØ ViewModels (2 —Ñ–∞–π–ª–∞)
‚îÇ   ‚îú‚îÄ‚îÄ ChatViewModel.swift
‚îÇ   ‚îî‚îÄ‚îÄ ChatViewModel+YandexTracker.swift (extension)
‚îÇ
‚îî‚îÄ‚îÄ üîß Services (15 —Ñ–∞–π–ª–æ–≤)
    ‚îú‚îÄ‚îÄ ClaudeService.swift
    ‚îú‚îÄ‚îÄ MCPService.swift
    ‚îú‚îÄ‚îÄ SimulatorService.swift
    ‚îú‚îÄ‚îÄ SimulatorTools.swift
    ‚îú‚îÄ‚îÄ YandexTrackerService.swift
    ‚îú‚îÄ‚îÄ YandexTrackerAgent.swift
    ‚îú‚îÄ‚îÄ YandexTrackerTools.swift
    ‚îú‚îÄ‚îÄ PeriodicTaskService.swift
    ‚îú‚îÄ‚îÄ PeriodicTaskTools.swift
    ‚îú‚îÄ‚îÄ WeatherService.swift
    ‚îú‚îÄ‚îÄ HuggingFaceService.swift
    ‚îú‚îÄ‚îÄ LocalModelService.swift
    ‚îú‚îÄ‚îÄ MultiAgentService.swift
    ‚îú‚îÄ‚îÄ SolverReviewerService.swift
    ‚îî‚îÄ‚îÄ TokenManager.swift
```

**–í—Å–µ–≥–æ:** 37 Swift —Ñ–∞–π–ª–æ–≤

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

**–ü–∞—Ç—Ç–µ—Ä–Ω:** MVVM (Model-View-ViewModel)

**–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**

1. **Core Services:**
   - `ClaudeService` - —Ä–∞–±–æ—Ç–∞ —Å Claude API
   - `MCPService` - Model Context Protocol –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π

2. **Integration Services:**
   - `YandexTrackerService` - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Yandex Tracker
   - `SimulatorService` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ iOS —Å–∏–º—É–ª—è—Ç–æ—Ä–æ–º
   - `PeriodicTaskService` - –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏

3. **AI Services:**
   - `MultiAgentService` - –º—É–ª—å—Ç–∏–∞–≥–µ–Ω—Ç–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞
   - `SolverReviewerService` - —Ä–µ—à–µ–Ω–∏–µ –∏ —Ä–µ–≤—å—é
   - `HuggingFaceService` - —Ä–∞–±–æ—Ç–∞ —Å HuggingFace –º–æ–¥–µ–ª—è–º–∏
   - `LocalModelService` - –ª–æ–∫–∞–ª—å–Ω—ã–µ –º–æ–¥–µ–ª–∏

4. **Tools Providers:**
   - `YandexTrackerTools` - –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Ç—Ä–µ–∫–µ—Ä–∞
   - `SimulatorTools` - –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Å–∏–º—É–ª—è—Ç–æ—Ä–∞
   - `PeriodicTaskTools` - –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –∑–∞–¥–∞—á

## –ö–æ–≥–¥–∞ –≤—ã –≤—ã–ø–æ–ª–Ω–∏—Ç–µ /analyze-project

–ö–æ–º–∞–Ω–¥–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç –ø–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç:

### 1. –î–µ—Ç–∞–ª—å–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É
- –í—Å–µ —Ñ–∞–π–ª—ã —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –∏—Ö –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è
- –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏
- –ì—Ä–∞—Ñ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### 2. –ê–Ω–∞–ª–∏–∑ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
- MVVM —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Combine/async-await
- Dependency injection –ø–∞—Ç—Ç–µ—Ä–Ω—ã

### 3. –ü–æ–∏—Å–∫ –ø—Ä–æ–±–ª–µ–º
- Memory leaks (retain cycles)
- Force unwrapping (`!`)
- Missing error handling
- Threading issues
- Hardcoded values

### 4. Code quality metrics
- –°–æ–±–ª—é–¥–µ–Ω–∏–µ Swift style guide
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö API
- –¢–µ—Å—Ç–æ–≤–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ (–µ—Å–ª–∏ –µ—Å—Ç—å —Ç–µ—Å—Ç—ã)

### 5. –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- –ß—Ç–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å
- –ì–¥–µ –¥–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã
- –ö–∞–∫ —É–ª—É—á—à–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

## –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –í –≤–∞—à–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ AIAdventChatV2:

1. –û—Ç–∫—Ä–æ–π—Ç–µ —á–∞—Ç
2. –í–≤–µ–¥–∏—Ç–µ: `/analyze-project`
3. –î–æ–∂–¥–∏—Ç–µ—Å—å –∞–Ω–∞–ª–∏–∑–∞ (–º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å 1-2 –º–∏–Ω—É—Ç—ã)
4. –ü–æ–ª—É—á–∏—Ç–µ –ø–æ–¥—Ä–æ–±–Ω—ã–π –æ—Ç—á–µ—Ç

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ - –ø—Ä—è–º–æ–π –∑–∞–ø—Ä–æ—Å:

–í–º–µ—Å—Ç–æ –∫–æ–º–∞–Ω–¥—ã –º–æ–∂–µ—Ç–µ –Ω–∞–ø–∏—Å–∞—Ç—å –≤ —á–∞—Ç–µ:

```
–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –≤–µ—Å—å –ø—Ä–æ–µ–∫—Ç AIAdventChatV2:
1. –ü–æ—Å—Ç—Ä–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—É
2. –ù–∞–π–¥–∏ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –±–∞–≥–∏
3. –î–∞–π —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é
```

## –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è –±–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞

–ü–æ—Å–ª–µ –ø–µ—Ä–≤–∏—á–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –º–æ–∂–µ—Ç–µ –∑–∞–¥–∞–≤–∞—Ç—å —É—Ç–æ—á–Ω—è—é—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã:

```
–ü–æ–∫–∞–∂–∏ –≤—Å–µ –º–µ—Å—Ç–∞ –≥–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è force unwrapping (!)
```

```
–ù–∞–π–¥–∏ –≤—Å–µ retain cycles –≤ ViewModels
```

```
–ì–¥–µ –≤ –∫–æ–¥–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫?
```

```
–ö–∞–∫–∏–µ —Ñ–∞–π–ª—ã —Å–∞–º—ã–µ –±–æ–ª—å—à–∏–µ –∏ —Å–ª–æ–∂–Ω—ã–µ?
```

```
–ü–æ—Å—Ç—Ä–æ–π –≥—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏
```

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏

1. **–°–±–æ—Ä —Ñ–∞–π–ª–æ–≤:** Glob –Ω–∞—Ö–æ–¥–∏—Ç –≤—Å–µ .swift —Ñ–∞–π–ª—ã
2. **–ê–Ω–∞–ª–∏–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:** –ß–∏—Ç–∞–µ—Ç –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∏—Ä—É–µ—Ç —Ñ–∞–π–ª—ã
3. **–ü–æ–∏—Å–∫ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤:** Grep –∏—â–µ—Ç —Ç–∏–ø–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:
   - `!` - force unwrapping
   - `as!` - force casting
   - `@escaping.*\[weak self\]` - –ø—Ä–æ–≤–µ—Ä–∫–∞ weak references
   - `try!` - force try
4. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–∞:** –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π markdown

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

‚úÖ **–ö–æ–º–∞–Ω–¥–∞ —Å–æ–∑–¥–∞–Ω–∞:** `.claude/commands/analyze-project.md`
‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≥–æ—Ç–æ–≤–∞:** `ANALYZE_PROJECT_GUIDE.md`
‚úÖ **–î–µ–º–æ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–æ:** `DEMO_ANALYSIS.md`

**–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å:**
- –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ AIAdventChatV2
- –í–≤–µ–¥–∏—Ç–µ `/analyze-project` –≤ —á–∞—Ç–µ
- –ò–ª–∏ –ø—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏—Ç–µ: "–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –ø—Ä–æ–µ–∫—Ç –∏ –Ω–∞–π–¥–∏ –±–∞–≥–∏"
