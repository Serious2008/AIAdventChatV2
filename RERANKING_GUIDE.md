# Reranking Guide - –£–ª—É—á—à–µ–Ω–∏–µ RAG —á–µ—Ä–µ–∑ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é

## üéØ –ß—Ç–æ —Ç–∞–∫–æ–µ Reranking?

**Reranking** - —ç—Ç–æ –≤—Ç–æ—Ä–æ–π —ç—Ç–∞–ø –ø–æ—Å–ª–µ –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞, –∫–æ—Ç–æ—Ä—ã–π —É–ª—É—á—à–∞–µ—Ç –∫–∞—á–µ—Å—Ç–≤–æ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.

### –ü—Ä–æ–±–ª–µ–º–∞ –±–µ–∑ Reranking:

```
–í–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ ‚Üí Top-5 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ ‚Üí LLM
                    ‚Üì
              –ú–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–π –º—É—Å–æ—Ä!
```

**–ü—Ä–∏–º–µ—Ä:**
- –í–æ–ø—Ä–æ—Å: "–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è?"
- –í–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ –Ω–∞—Ö–æ–¥–∏—Ç 5 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- –†–µ–∑—É–ª—å—Ç–∞—Ç #3 –∏–º–µ–µ—Ç similarity = 0.35 (35%)
- –û–Ω –≤–∫–ª—é—á–∞–µ—Ç—Å—è –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç, –Ω–æ **–Ω–µ —Ä–µ–ª–µ–≤–∞–Ω—Ç–µ–Ω**!
- LLM –ø–æ–ª—É—á–∞–µ—Ç —à—É–º –∏ –º–æ–∂–µ—Ç –¥–∞—Ç—å –Ω–µ—Ç–æ—á–Ω—ã–π –æ—Ç–≤–µ—Ç

### –†–µ—à–µ–Ω–∏–µ —Å Reranking:

```
–í–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ ‚Üí Top-15 –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤
                    ‚Üì
                Reranker (—Ñ–∏–ª—å—Ç—Ä)
                    ‚Üì
              Top-5 —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö ‚Üí LLM
```

## üìä –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏

### 1. **None** - –ë–µ–∑ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ (baseline)

```swift
.none
```

–ë–µ—Ä—ë–º —Ç–æ–ø-5 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∫–∞–∫ –µ—Å—Ç—å, –±–µ–∑ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏.

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
- –î–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Å –¥—Ä—É–≥–∏–º–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è–º–∏
- –ö–æ–≥–¥–∞ —É–≤–µ—Ä–µ–Ω—ã –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∏–Ω–¥–µ–∫—Å–∞

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –ú–æ–∂–µ—Ç –≤–∫–ª—é—á–∞—Ç—å –Ω–µ—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- ‚ùå –ú—É—Å–æ—Ä –ø–æ–ø–∞–¥–∞–µ—Ç –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç LLM

---

### 2. **Threshold** - –ü–æ—Ä–æ–≥ similarity

```swift
.threshold(0.6)  // –ú–∏–Ω–∏–º—É–º 60%
```

–û—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤—ã–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –Ω–∏–∂–µ –ø–æ—Ä–æ–≥–∞.

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
```
–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:
1. File1.swift - 85% ‚úÖ Pass
2. File2.swift - 72% ‚úÖ Pass
3. File3.swift - 55% ‚ùå Filtered (< 60%)
4. File4.swift - 48% ‚ùå Filtered
5. File5.swift - 41% ‚ùå Filtered

‚Üí –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ #1 –∏ #2
```

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ—Ä–æ–≥–∞:**
- **30-40%** - –û—á–µ–Ω—å –º—è–≥–∫–∏–π (–ø–æ—á—Ç–∏ –≤—Å—ë –ø—Ä–æ—Ö–æ–¥–∏—Ç)
- **50-60%** - –°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- **70-80%** - –°—Ç—Ä–æ–≥–∏–π (—Ç–æ–ª—å–∫–æ –≤—ã—Å–æ–∫–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ–µ)
- **> 80%** - –û—á–µ–Ω—å —Å—Ç—Ä–æ–≥–∏–π (–º–æ–∂–µ—Ç –æ—Ç—Å–µ—á—å –≤—Å—ë)

**–ü–ª—é—Å—ã:**
- ‚úÖ –ü—Ä–æ—Å—Ç–æ–π –∏ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–π
- ‚úÖ –ë—ã—Å—Ç—Ä—ã–π (–±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤)
- ‚úÖ –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π –ø–æ—Ä–æ–≥

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ—Ä–æ–≥ –Ω–µ –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –∫ –∑–∞–ø—Ä–æ—Å—É
- ‚ùå –ú–æ–∂–µ—Ç –æ—Ç—Å–µ—á—å –≤—Å—ë –µ—Å–ª–∏ –ø–æ—Ä–æ–≥ —Å–ª–∏—à–∫–æ–º –≤—ã—Å–æ–∫–∏–π

---

### 3. **Adaptive** - –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –ø–æ—Ä–æ–≥

```swift
.adaptive
```

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã—á–∏—Å–ª—è–µ—Ç –ø–æ—Ä–æ–≥ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è scores.

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
```
–†–µ–∑—É–ª—å—Ç–∞—Ç—ã: [0.85, 0.78, 0.65, 0.32, 0.15]

1. –í—ã—á–∏—Å–ª—è–µ–º —Å—Ä–µ–¥–Ω–µ–µ (mean): 0.55
2. –í—ã—á–∏—Å–ª—è–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ (stdDev): 0.28
3. –ü–æ—Ä–æ–≥ = mean - 0.5 * stdDev = 0.55 - 0.14 = 0.41

–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:
1. 85% ‚úÖ Pass (> 41%)
2. 78% ‚úÖ Pass
3. 65% ‚úÖ Pass
4. 32% ‚ùå Filtered (< 41%)
5. 15% ‚ùå Filtered

‚Üí –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è #1, #2, #3
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –ê–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –∫ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—é scores
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç —Ä—É—á–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –ú–æ–∂–µ—Ç –±—ã—Ç—å —Å–ª–∏—à–∫–æ–º –º—è–≥–∫–∏–º –µ—Å–ª–∏ –≤—Å–µ scores –Ω–∏–∑–∫–∏–µ
- ‚ùå –°–ª–æ–∂–Ω–µ–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç

---

### 4. **LLM-based** - –ü–µ—Ä–µ—Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ LLM

```swift
.llmBased
```

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç Claude –¥–ª—è –æ—Ü–µ–Ω–∫–∏ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏ –∫–∞–∂–¥–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞.

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
```
1. –í–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ ‚Üí Top-15 –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤

2. –û—Ç–ø—Ä–∞–≤–ª—è–µ–º Claude –ø—Ä–æ–º–ø—Ç:
   "–û—Ü–µ–Ω–∏ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å –∫–∞–∂–¥–æ–≥–æ –¥–ª—è –≤–æ–ø—Ä–æ—Å–∞ –æ—Ç 0 –¥–æ 10"

   –í–æ–ø—Ä–æ—Å: "–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è?"

   [1] AuthService.swift: "class AuthService { func login..."
   [2] Database.swift: "class Database { func connect..."
   [3] LoginView.swift: "struct LoginView: View { @State..."

3. Claude –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç: [9, 2, 7]
   - #1: 9/10 - –æ—á–µ–Ω—å —Ä–µ–ª–µ–≤–∞–Ω—Ç–µ–Ω (–ø—Ä–æ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é)
   - #2: 2/10 - –Ω–µ —Ä–µ–ª–µ–≤–∞–Ω—Ç–µ–Ω (–ø—Ä–æ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö)
   - #3: 7/10 - —Ä–µ–ª–µ–≤–∞–Ω—Ç–µ–Ω (UI –¥–ª—è –ª–æ–≥–∏–Ω–∞)

4. –ö–æ–º–±–∏–Ω–∏—Ä—É–µ–º scores:
   FinalScore = 0.4 * VectorSimilarity + 0.6 * LLMScore

   #1: 0.4 * 0.85 + 0.6 * 0.9 = 0.88 ‚úÖ Top!
   #2: 0.4 * 0.78 + 0.6 * 0.2 = 0.43 ‚ùå
   #3: 0.4 * 0.65 + 0.6 * 0.7 = 0.68 ‚úÖ

5. –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ FinalScore ‚Üí Top-5
```

**–ü–ª—é—Å—ã:**
- ‚úÖ **–õ—É—á—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ** - —É—á–∏—Ç—ã–≤–∞–µ—Ç —Å–µ–º–∞–Ω—Ç–∏–∫—É –≤–æ–ø—Ä–æ—Å–∞
- ‚úÖ –ü–æ–Ω–∏–º–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏ –Ω–∞–º–µ—Ä–µ–Ω–∏–µ
- ‚úÖ –ú–æ–∂–µ—Ç –Ω–∞–π—Ç–∏ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å, –∫–æ—Ç–æ—Ä—É—é –Ω–µ –≤–∏–¥–∏—Ç cosine similarity

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –ú–µ–¥–ª–µ–Ω–Ω–µ–µ (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π LLM –∑–∞–ø—Ä–æ—Å)
- ‚ùå –î–æ—Ä–æ–∂–µ (~$0.001-0.002 per query)
- ‚ùå –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ–∫–µ–Ω—ã

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
- –ö–æ–≥–¥–∞ –∫–∞—á–µ—Å—Ç–≤–æ –≤–∞–∂–Ω–µ–µ —Å–∫–æ—Ä–æ—Å—Ç–∏
- –°–ª–æ–∂–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã —Ç—Ä–µ–±—É—é—â–∏–µ –ø–æ–Ω–∏–º–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

---

## üß™ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π

### –ü—Ä–∏–º–µ—Ä: "–ö–∞–∫ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏—è —á–∞—Ç–∞?"

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞ (Top-10):**
```
1. DatabaseManager.swift     - 88% - saveMessage(...)
2. ChatViewModel.swift        - 82% - func saveMessage
3. Message.swift              - 75% - struct Message
4. Settings.swift             - 52% - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ (–ù–ï –ø—Ä–æ —Å–æ–æ–±—â–µ–Ω–∏—è!)
5. VectorStorage.swift        - 48% - SQLite (–Ω–æ –ø—Ä–æ —ç–º–±–µ–¥–¥–∏–Ω–≥–∏)
6. TextChunker.swift          - 35% - —É–ø–æ–º–∏–Ω–∞–Ω–∏–µ "save"
7. ClaudeService.swift        - 32% - —Å–ª–æ–≤–æ "message"
8. README.md                  - 28% - "data persistence"
9. Package.swift              - 15% - –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
10. ContentView.swift         - 12% - UI –∫–æ–¥
```

**–°—Ç—Ä–∞—Ç–µ–≥–∏—è 1: None (–±–µ–∑ —Ñ–∏–ª—å—Ç—Ä–∞)**
```
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç: #1-5 (–≤—Å–µ —Ç–æ–ø-5)
‚úÖ –•–æ—Ä–æ—à–æ: #1, #2, #3 —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã
‚ùå –ü–ª–æ—Ö–æ: #4, #5 –Ω–µ—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã (–ø—Ä–æ settings –∏ embeddings)

–ö–∞—á–µ—Å—Ç–≤–æ –æ—Ç–≤–µ—Ç–∞: 6/10
```

**–°—Ç—Ä–∞—Ç–µ–≥–∏—è 2: Threshold(0.6)**
```
–ü–æ—Ä–æ–≥: 60%
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç: #1, #2, #3 (—Ç–æ–ª—å–∫–æ > 60%)
‚úÖ –û—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–ª –º—É—Å–æ—Ä (#4-10)
‚úÖ –û—Å—Ç–∞–≤–∏–ª —Ç–æ–ª—å–∫–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ

–ö–∞—á–µ—Å—Ç–≤–æ –æ—Ç–≤–µ—Ç–∞: 9/10
```

**–°—Ç—Ä–∞—Ç–µ–≥–∏—è 3: Adaptive**
```
Mean: 44%, StdDev: 25%
–ü–æ—Ä–æ–≥: 44% - 12% = 32%

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç: #1-7 (–≤—Å—ë > 32%)
‚úÖ –í–∫–ª—é—á–∏–ª #1, #2, #3
‚ö†Ô∏è –í–∫–ª—é—á–∏–ª #4, #5, #6, #7 (—á–∞—Å—Ç–∏—á–Ω–æ –Ω–µ—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã)

–ö–∞—á–µ—Å—Ç–≤–æ –æ—Ç–≤–µ—Ç–∞: 7/10
```

**–°—Ç—Ä–∞—Ç–µ–≥–∏—è 4: LLM-based**
```
Claude –æ—Ü–µ–Ω–∫–∏:
#1: 10/10 (DatabaseManager - –ø—Ä—è–º–æ–π –æ—Ç–≤–µ—Ç!)
#2: 9/10  (ChatViewModel - —Ç–æ–∂–µ –ø—Ä–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ)
#3: 7/10  (Message - —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö)
#4: 3/10  (Settings - –Ω–µ –ø—Ä–æ —Å–æ–æ–±—â–µ–Ω–∏—è)
#5: 2/10  (VectorStorage - –Ω–µ —Ç–æ)

Final scores –ø–æ—Å–ª–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏:
#1: 0.4*0.88 + 0.6*1.0 = 0.95 ‚úÖ
#2: 0.4*0.82 + 0.6*0.9 = 0.87 ‚úÖ
#3: 0.4*0.75 + 0.6*0.7 = 0.72 ‚úÖ
#4: 0.4*0.52 + 0.6*0.3 = 0.39 ‚ùå
#5: 0.4*0.48 + 0.6*0.2 = 0.31 ‚ùå

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç: #1, #2, #3
–ö–∞—á–µ—Å—Ç–≤–æ –æ—Ç–≤–µ—Ç–∞: 10/10 üéØ
```

---

## üìà –ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –æ—Ü–µ–Ω–∫–∏

### 1. Precision (–¢–æ—á–Ω–æ—Å—Ç—å)

```
Precision = –†–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –≤ –≤—ã–±–æ—Ä–∫–µ / –í—Å–µ–≥–æ –≤ –≤—ã–±–æ—Ä–∫–µ

None:      3/5 = 60%
Threshold: 3/3 = 100%
Adaptive:  3/7 = 43%
LLM:       3/3 = 100%
```

### 2. Recall (–ü–æ–ª–Ω–æ—Ç–∞)

```
Recall = –†–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –≤ –≤—ã–±–æ—Ä–∫–µ / –í—Å–µ–≥–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö

–í—Å–µ–≥–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö –≤ —Ç–æ–ø-10: 3

None:      3/3 = 100%
Threshold: 3/3 = 100%
Adaptive:  3/3 = 100%
LLM:       3/3 = 100%
```

### 3. F1-Score

```
F1 = 2 * (Precision * Recall) / (Precision + Recall)

None:      2 * (0.6 * 1.0) / 1.6 = 0.75
Threshold: 2 * (1.0 * 1.0) / 2.0 = 1.00 üèÜ
Adaptive:  2 * (0.43 * 1.0) / 1.43 = 0.60
LLM:       2 * (1.0 * 1.0) / 2.0 = 1.00 üèÜ
```

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –∫–µ–π—Å–æ–≤:
```swift
.threshold(0.6)  // 60% –ø–æ—Ä–æ–≥
```
- ‚úÖ –•–æ—Ä–æ—à–∏–π –±–∞–ª–∞–Ω—Å –∫–∞—á–µ—Å—Ç–≤–∞ –∏ —Å–∫–æ—Ä–æ—Å—Ç–∏
- ‚úÖ –ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–π
- ‚úÖ –ë–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–∞—Ç—Ä–∞—Ç

### –î–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –∫–µ–π—Å–æ–≤:
```swift
.adaptive
```
- ‚úÖ –ö–æ–≥–¥–∞ –∑–∞–ø—Ä–æ—Å—ã –æ—á–µ–Ω—å —Ä–∞–∑–Ω—ã–µ
- ‚úÖ –ù–µ —Ö–æ—á–µ—Ç—Å—è –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –ø–æ—Ä–æ–≥ –≤—Ä—É—á–Ω—É—é

### –î–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –∫–µ–π—Å–æ–≤:
```swift
.llmBased
```
- ‚úÖ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ
- ‚ö†Ô∏è –î–æ—Ä–æ–∂–µ –∏ –º–µ–¥–ª–µ–Ω–Ω–µ–µ
- ‚úÖ –ö–æ–≥–¥–∞ —Ç–æ–∫–µ–Ω—ã –Ω–µ –ø—Ä–æ–±–ª–µ–º–∞

### –î–ª—è baseline —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
```swift
.none
```
- ‚úÖ –î–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è "–¥–æ –∏ –ø–æ—Å–ª–µ"

---

## üíª –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–¥–µ

```swift
// –í RAGComparisonView –¥–æ–±–∞–≤—å –Ω–∞—Å—Ç—Ä–æ–π–∫—É —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
@State private var strategy: RerankingStrategy = .threshold(0.6)

// –ü—Ä–∏ –≤—ã–∑–æ–≤–µ compareRAG:
let result = try await viewModel.compareRAGWithReranking(
    question: question,
    rerankingStrategy: strategy
)
```

---

## üß™ –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç –¥–ª—è –¥–µ–º–æ

### –°—Ü–µ–Ω–∞—Ä–∏–π:

1. **–ó–∞–¥–∞–π –≤–æ–ø—Ä–æ—Å:** "–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫?"

2. **–ü–æ–ø—Ä–æ–±—É–π –≤—Å–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏:**
   ```
   A. None       ‚Üí –ú–æ–∂–µ—Ç –≤–∫–ª—é—á–∏—Ç—å –Ω–µ—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ–µ
   B. Threshold  ‚Üí –¢–æ–ª—å–∫–æ > 60%
   C. Adaptive   ‚Üí –ê–≤—Ç–æ-–ø–æ—Ä–æ–≥
   D. LLM-based  ‚Üí –ü–µ—Ä–µ–æ—Ü–µ–Ω–∫–∞ Claude
   ```

3. **–°—Ä–∞–≤–Ω–∏ –æ—Ç–≤–µ—Ç—ã:**
   - –ö–∞—á–µ—Å—Ç–≤–æ (–¥–µ—Ç–∞–ª—å–Ω–æ—Å—Ç—å, —Ç–æ—á–Ω–æ—Å—Ç—å)
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏
   - –í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏

4. **–í—ã–≤–æ–¥—ã:**
   ```
   ‚úÖ Threshold(0.6) –¥–∞–ª –ª—É—á—à–∏–π –±–∞–ª–∞–Ω—Å
   ‚úÖ LLM-based –¥–∞–ª –ª—É—á—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ (+20% —Ç–æ—á–Ω–æ—Å—Ç–∏)
   ‚ö†Ô∏è None –≤–∫–ª—é—á–∏–ª –Ω–µ—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
   ```

–ì–æ—Ç–æ–≤–æ! üöÄ
