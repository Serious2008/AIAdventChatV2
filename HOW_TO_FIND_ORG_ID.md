# 🔍 Как найти Organization ID для Yandex Tracker

## ⚠️ Частая ошибка

**Ошибка:** "Organization is not available, not ready or not found" (код 620345)

**Причина:** Неправильный Organization ID

---

## ✅ Способ 1: Через интерфейс Yandex Tracker (РЕКОМЕНДУЕТСЯ)

### Пошаговая инструкция:

1. Откройте **Yandex Tracker**: https://tracker.yandex.ru

2. **Войдите** в свой аккаунт

3. В левом нижнем углу нажмите на **шестерёнку** ⚙️ (Settings)

4. Выберите **"About organization"** или **"О сервисе"**

5. Найдите поле **"Organization ID"** или **"ID организации"**

6. **Скопируйте** это число (например: `12345678`)

### Визуально:

```
┌─────────────────────────────────────┐
│  Yandex Tracker                     │
│                                     │
│  ┌────────┐  ┌────────┐            │
│  │ Issues │  │ Boards │            │
│  └────────┘  └────────┘            │
│                                     │
│                                     │
│                                     │
│  [⚙️ Settings]  ← Нажмите сюда     │
│                                     │
│  ┌──────────────────────┐          │
│  │ About organization   │ ← Затем  │
│  │ Users                │   сюда   │
│  │ Access control       │          │
│  └──────────────────────┘          │
│                                     │
│  Organization ID: 12345678          │
│                   ^^^^^^^^          │
│                Скопируйте это!      │
└─────────────────────────────────────┘
```

---

## ✅ Способ 2: Из URL страницы

### Если вы находитесь в настройках:

Посмотрите в адресную строку браузера:

```
https://tracker.yandex.ru/admin/orgs/12345678/settings
                                    ^^^^^^^^
                               Это ваш Organization ID!
```

### Если URL не содержит ID:

Некоторые страницы не показывают ID в URL. В этом случае используйте **Способ 1**.

---

## ✅ Способ 3: Через Yandex 360 Admin

Если у вас есть права администратора:

1. Откройте **Yandex 360 Admin**: https://admin.yandex.ru/

2. **Войдите** в аккаунт

3. **Выберите** нужную организацию (если их несколько)

4. Перейдите в раздел **"Сервисы"** → **"Tracker"**

5. Посмотрите в URL:

```
https://admin.yandex.ru/portal/services/tracker?organization_id=12345678
                                                              ^^^^^^^^
                                                    Это Organization ID!
```

---

## ✅ Способ 4: Через API (для опытных пользователей)

Используйте curl для получения информации о вашем аккаунте:

```bash
curl -H "Authorization: OAuth ВАШ_OAUTH_TOKEN" \
     https://api.tracker.yandex.net/v2/myself
```

Ответ будет содержать информацию о доступных организациях.

---

## ❗ Важные моменты

### Organization ID - это ЧИСЛО!

✅ **Правильно:**
- `12345678`
- `87654321`
- `1234567890`

❌ **Неправильно:**
- `my-company` (название организации)
- `company.yandex` (домен)
- `https://tracker.yandex.ru/...` (ссылка)
- `ВАШ_CLIENT_ID` (ID OAuth приложения)

### У вас должен быть доступ к организации

Если Organization ID правильный, но ошибка всё равно появляется:

1. Убедитесь, что вы можете открыть https://tracker.yandex.ru и видите задачи
2. Если нет доступа - попросите администратора организации добавить вас
3. Проверьте, что Yandex Tracker активирован для вашей организации

### OAuth Token должен быть создан для этой организации

OAuth токен привязан к конкретной организации!

Если вы:
1. Создали токен, будучи залогиненным в **организацию A**
2. А пытаетесь использовать его для **организации B**

→ **Это не сработает!** Нужно пересоздать токен, войдя в организацию B.

---

## 🧪 Проверка правильности данных

После того, как нашли Organization ID, проверьте его через curl:

```bash
curl -H "Authorization: OAuth ВАШ_OAUTH_TOKEN" \
     -H "X-Org-ID: ВАШ_ORGANIZATION_ID" \
     https://api.tracker.yandex.net/v2/issues?perPage=1
```

### Ожидаемый результат:

#### ✅ Всё правильно:
```json
[
  {
    "key": "PROJECT-123",
    "summary": "Task title",
    ...
  }
]
```

Или пустой массив `[]` (если нет задач).

#### ❌ Organization ID неверный:
```json
{
  "errorMessages": ["Organization is not available, not ready or not found"],
  "errorCode": 620345
}
```

→ Перепроверьте Organization ID!

#### ❌ OAuth Token неверный:
```json
{
  "errorMessages": ["Unauthorized"],
  "statusCode": 401
}
```

→ Пересоздайте OAuth Token!

---

## 📋 Чек-лист перед использованием

Убедитесь, что:

- [ ] Organization ID - это **число** (не название, не ссылка)
- [ ] Вы можете открыть https://tracker.yandex.ru и видите задачи
- [ ] OAuth Token создан **после** входа в нужную организацию
- [ ] OAuth Token имеет права `tracker:read` и `tracker:write`
- [ ] Вы скопировали Organization ID **полностью** (без пробелов)
- [ ] Вы вставили Organization ID в настройках приложения

---

## 🚀 Что делать дальше

1. Найдите Organization ID через **Способ 1** (самый простой)
2. Скопируйте это число
3. Откройте настройки приложения (⚙️)
4. Вставьте Organization ID
5. Убедитесь, что OAuth Token тоже заполнен
6. Нажмите **"Проверить подключение"**

Если всё правильно - увидите:
```
✅ Подключение успешно! Данные Yandex Tracker верны.
```

Если ошибка - проверьте, что Organization ID - это **именно число** из настроек Tracker!

**Готово! 🎉**
